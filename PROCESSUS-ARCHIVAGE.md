# ğŸ“¦ Processus d'Archivage et Gestion des DÃ©parts

## Vue d'ensemble
Ce processus guide l'archivage des enregistrements (utilisateurs, logiciels, Ã©quipes) avec gestion spÃ©cialisÃ©e des dÃ©parts d'entreprise et suppression des accÃ¨s.

---

## PrÃ©requis
### ğŸ” AccÃ¨s requis
- ÃŠtre connectÃ© Ã  l'application
- Avoir les droits d'administration

### ğŸ“‹ Concepts importants
- **Archivage â‰  Suppression** : Les donnÃ©es restent accessibles mais masquÃ©es
- **TraÃ§abilitÃ© complÃ¨te** : Tous les archivages sont loggÃ©s
- **RÃ©versibilitÃ©** : PossibilitÃ© de dÃ©sarchiver si nÃ©cessaire
- **Gestion des accÃ¨s** : Suppression automatique lors des dÃ©parts

---

## ğŸ‘¤ Archivage d'un Utilisateur (DÃ©part d'Entreprise)

### Ã‰tape 1 : Identification du DÃ©part
#### ğŸ“ Description
Localiser l'utilisateur qui quitte l'entreprise et prÃ©parer son archivage.

#### ğŸ¯ Actions Ã  effectuer
1. Aller dans **"Utilisateur"** depuis le menu principal
2. **Localiser l'utilisateur** dans la liste
3. **VÃ©rifier ses informations** :
   - Nom, prÃ©nom, poste actuel
   - Ã‰quipe d'appartenance
   - Nombre de logiciels avec accÃ¨s
   - CoÃ»ts associÃ©s

#### âœ… RÃ©sultat attendu
- L'utilisateur est visible et identifiable
- Les informations sont Ã  jour
- Les accÃ¨s actuels sont visibles (nombre dans la colonne)

#### ğŸ“¸ **[CAPTURE D'Ã‰CRAN Ã€ INSÃ‰RER ICI]**
*Utilisateur Ã  archiver dans la liste avec ses informations*

---

### Ã‰tape 2 : DÃ©clenchement du Processus "Plus dans l'Entreprise"
#### ğŸ“ Description
Utiliser la fonction spÃ©cialisÃ©e pour gÃ©rer un dÃ©part d'entreprise.

#### ğŸ¯ Actions Ã  effectuer
1. Cliquer sur l'icÃ´ne **"ğŸšª"** (Plus dans l'entreprise) Ã  droite de l'utilisateur
2. **Alternative :** IcÃ´ne de sortie/dÃ©connexion selon l'affichage

#### âœ… RÃ©sultat attendu
- **Modale "Utilisateur plus dans l'entreprise"** s'ouvre
- **Message explicatif** sur les consÃ©quences de l'action
- **Informations utilisateur** rÃ©capitulÃ©es
- Options **"Confirmer"** et **"Annuler"**

#### ğŸ“¸ **[CAPTURE D'Ã‰CRAN Ã€ INSÃ‰RER ICI]**
*Modale de confirmation de dÃ©part d'entreprise*

---

### Ã‰tape 3 : ComprÃ©hension des ConsÃ©quences
#### ğŸ“ Description
Prendre connaissance des actions automatiques qui vont Ãªtre effectuÃ©es.

#### ğŸ¯ Actions automatiques du systÃ¨me
**Ce qui va se passer :**
1. **Archivage de l'utilisateur** : Plus visible dans la liste principale
2. **Suppression de TOUS les accÃ¨s** : Retrait automatique des droits sur tous les logiciels
3. **Conservation des donnÃ©es** : Historique et logs prÃ©servÃ©s
4. **Mise Ã  jour des coÃ»ts** : Recalcul automatique des coÃ»ts totaux
5. **GÃ©nÃ©ration de logs** : TraÃ§abilitÃ© complÃ¨te de l'opÃ©ration

#### âš ï¸ Points d'attention
- **Action irrÃ©versible automatiquement** (mais dÃ©sarchivage possible)
- **Impact sur les coÃ»ts** : RÃ©duction immÃ©diate des coÃ»ts totaux
- **AccÃ¨s supprimÃ©s** : L'utilisateur ne peut plus accÃ©der aux logiciels
- **Historique prÃ©servÃ©** : Toutes les donnÃ©es restent pour audit

#### ğŸ“¸ **[CAPTURE D'Ã‰CRAN Ã€ INSÃ‰RER ICI]**
*Message dÃ©taillant les consÃ©quences de l'archivage*

---

### Ã‰tape 4 : Confirmation de l'Archivage
#### ğŸ“ Description
Valider dÃ©finitivement le dÃ©part et l'archivage de l'utilisateur.

#### ğŸ¯ Actions Ã  effectuer
1. **Lecture attentive** du message de confirmation
2. **VÃ©rification** que c'est bien le bon utilisateur
3. Cliquer sur **"Confirmer le dÃ©part"** ou Ã©quivalent
4. Attendre le traitement (peut prendre quelques secondes)

#### âœ… RÃ©sultat attendu - SuccÃ¨s
- **Message de confirmation** : "Utilisateur archivÃ© avec succÃ¨s"
- **Disparition** de l'utilisateur de la liste principale
- **Suppression automatique** de tous ses accÃ¨s
- **Logs multiples gÃ©nÃ©rÃ©s** :
  - Archivage de l'utilisateur
  - Suppression de chaque accÃ¨s
  - Mise Ã  jour des coÃ»ts

#### ğŸ“¸ **[CAPTURE D'Ã‰CRAN Ã€ INSÃ‰RER ICI]**
*Confirmation de l'archivage rÃ©ussi et liste mise Ã  jour*

---

### Ã‰tape 5 : VÃ©rification de l'Archivage
#### ğŸ“ Description
S'assurer que l'archivage s'est dÃ©roulÃ© correctement.

#### ğŸ¯ Actions de vÃ©rification
1. **VÃ©rifier la liste principale :**
   - L'utilisateur n'est plus visible
   - Les statistiques sont mises Ã  jour

2. **Consulter les utilisateurs archivÃ©s :**
   - Utiliser le filtre "ArchivÃ©s" si disponible
   - VÃ©rifier que l'utilisateur apparaÃ®t avec le statut archivÃ©

3. **VÃ©rifier les accÃ¨s :**
   - Aller dans **"AccÃ¨s"**
   - Constater que les accÃ¨s de l'utilisateur ont disparu

4. **Consulter les logs :**
   - Aller dans **"RÃ©glages"** â†’ **"Logs"**
   - Filtrer par utilisateur pour voir l'historique complet

#### âœ… RÃ©sultat attendu
- **Utilisateur archivÃ©** mais donnÃ©es prÃ©servÃ©es
- **AccÃ¨s supprimÃ©s** : 0 logiciel assignÃ©
- **Logs complets** : TraÃ§abilitÃ© de toutes les actions
- **CoÃ»ts recalculÃ©s** : Impact sur les totaux

#### ğŸ“¸ **[CAPTURE D'Ã‰CRAN Ã€ INSÃ‰RER ICI]**
*Vue des logs montrant l'archivage et suppressions d'accÃ¨s*

---

## ğŸ’» Archivage d'un Logiciel

### Ã‰tape 1 : AccÃ¨s au Logiciel Ã  Archiver
#### ğŸ“ Description
Localiser et prÃ©parer l'archivage d'un logiciel obsolÃ¨te ou non utilisÃ©.

#### ğŸ¯ Actions Ã  effectuer
1. Aller dans **"Logiciel"** depuis le menu principal
2. Localiser le logiciel Ã  archiver
3. **VÃ©rifier les informations** :
   - Nombre d'utilisateurs actuels
   - CoÃ»ts mensuels/annuels
   - Statut "logiciel de base"

#### âš ï¸ ConsidÃ©rations importantes
- **Utilisateurs impactÃ©s** : VÃ©rifier qui utilise encore ce logiciel
- **CoÃ»ts** : Impact sur le budget total
- **DÃ©pendances** : S'assurer qu'aucun processus critique ne dÃ©pend de ce logiciel

---

### Ã‰tape 2 : Archivage du Logiciel
#### ğŸ“ Description
ProcÃ©der Ã  l'archivage du logiciel sÃ©lectionnÃ©.

#### ğŸ¯ Actions Ã  effectuer
1. Cliquer sur l'icÃ´ne **"ğŸ“¦"** (Archiver) du logiciel
2. **Confirmer l'archivage** dans la boÃ®te de dialogue
3. Attendre la confirmation

#### âœ… RÃ©sultat attendu
- **Logiciel archivÃ©** : Plus visible dans la liste principale
- **AccÃ¨s prÃ©servÃ©s** : Les utilisateurs gardent leurs accÃ¨s (mais logiciel marquÃ© archivÃ©)
- **CoÃ»ts maintenus** : Les coÃ»ts restent comptabilisÃ©s
- **Nouvelles attributions impossibles** : Plus possible d'attribuer ce logiciel

#### ğŸ“¸ **[CAPTURE D'Ã‰CRAN Ã€ INSÃ‰RER ICI]**
*Confirmation d'archivage de logiciel*

---

## ğŸ¢ Archivage d'une Ã‰quipe

### Ã‰tape 1 : VÃ©rification des DÃ©pendances
#### ğŸ“ Description
Avant d'archiver une Ã©quipe, s'assurer qu'elle peut Ãªtre archivÃ©e.

#### ğŸ¯ VÃ©rifications nÃ©cessaires
1. **Aller dans "RÃ©glages" â†’ "Ã‰quipe"**
2. **VÃ©rifier que l'Ã©quipe est vide :**
   - Aucun utilisateur rattachÃ©
   - Aucun logiciel assignÃ©
   - Aucune responsabilitÃ© financiÃ¨re active

#### âš ï¸ Contraintes d'archivage
- **Ã‰quipe avec membres** : Impossible d'archiver
- **Logiciels assignÃ©s** : RÃ©assigner avant archivage
- **Ã‰quipe payeuse** : Changer l'Ã©quipe payeuse des logiciels

---

### Ã‰tape 2 : Archivage de l'Ã‰quipe Vide
#### ğŸ“ Description
Archiver une Ã©quipe qui n'a plus de dÃ©pendances.

#### ğŸ¯ Actions Ã  effectuer
1. Cliquer sur **"ğŸ“¦ Archiver"** pour l'Ã©quipe concernÃ©e
2. Confirmer l'archivage
3. VÃ©rifier la disparition de la liste

#### âœ… RÃ©sultat attendu
- **Ã‰quipe archivÃ©e** et non visible
- **Historique prÃ©servÃ©** : Les anciens rattachements restent visibles dans l'historique
- **Logs gÃ©nÃ©rÃ©s** : TraÃ§abilitÃ© de l'archivage

---

## ğŸ”„ DÃ©sarchivage (RÃ©activation)

### Cas d'Usage
#### ğŸ“ Description
RÃ©activer un Ã©lÃ©ment archivÃ© par erreur ou en cas de retour.

#### ğŸ¯ Ã‰lÃ©ments dÃ©sarchivables
- **Utilisateur** : Retour dans l'entreprise, erreur d'archivage
- **Logiciel** : RÃ©activation d'un outil
- **Ã‰quipe** : Reformation d'une Ã©quipe

### Processus de DÃ©sarchivage
#### Actions Ã  effectuer
1. **AccÃ©der aux Ã©lÃ©ments archivÃ©s** :
   - Utiliser les filtres "ArchivÃ©s" dans chaque section
   - Ou rechercher dans les logs

2. **Cliquer sur "DÃ©sarchiver"** ou icÃ´ne Ã©quivalente

3. **Confirmer la rÃ©activation**

#### âš ï¸ Points d'attention
- **Utilisateur dÃ©sarchivÃ©** : Ne rÃ©cupÃ¨re PAS automatiquement ses anciens accÃ¨s
- **Logiciel dÃ©sarchivÃ©** : Redevient disponible pour attribution
- **DonnÃ©es prÃ©servÃ©es** : Toutes les informations sont restaurÃ©es

---

## ğŸ“Š Impact de l'Archivage

### Statistiques et Rapports
#### Modifications automatiques
1. **Dashboard** : Mise Ã  jour des compteurs
2. **CoÃ»ts totaux** : Recalcul immÃ©diat
3. **Rapports** : Les Ã©lÃ©ments archivÃ©s n'apparaissent plus
4. **Ã‰chÃ©ancier** : Suppression des Ã©chÃ©ances liÃ©es

### Conservation des DonnÃ©es
#### Ã‰lÃ©ments prÃ©servÃ©s
- **Logs complets** : Historique de toutes les actions
- **DonnÃ©es utilisateur** : Informations personnelles et professionnelles
- **Historique des accÃ¨s** : TraÃ§abilitÃ© des droits passÃ©s
- **Informations financiÃ¨res** : CoÃ»ts et paiements passÃ©s

---

## ğŸ“ TraÃ§abilitÃ© de l'Archivage

### Logs Automatiques
#### Types de logs gÃ©nÃ©rÃ©s
1. **ARCHIVE - Utilisateur** : Archivage de l'utilisateur
2. **DELETE - AccÃ¨s** : Suppression de chaque accÃ¨s (multiple)
3. **ARCHIVE - Logiciel** : Archivage de logiciel
4. **ARCHIVE - Ã‰quipe** : Archivage d'Ã©quipe

#### Format des logs d'archivage
```
ğŸ“¦ ARCHIVAGE - Utilisateurs (12345678...)
Il y a 5 minutes | Utilisateur plus dans l'entreprise | Utilisateur: Jean Dupont

Valeurs archivÃ©es:
â€¢ Nom: Jean Dupont
â€¢ Email: jean.dupont@entreprise.com
â€¢ Poste: Directeur Adjoint
â€¢ Ã‰quipe: Direction
```

---

## ğŸš¨ Gestion des Erreurs

### Erreurs d'Archivage
#### Ã‰quipe avec dÃ©pendances
- **SymptÃ´me** : "Impossible d'archiver, Ã©quipe non vide"
- **Solution** : RÃ©assigner les utilisateurs et logiciels

#### Erreur technique
- **SymptÃ´me** : "Erreur lors de l'archivage"
- **Solution** : VÃ©rifier la connexion et rÃ©essayer

#### Confirmation non donnÃ©e
- **SymptÃ´me** : Aucune action effectuÃ©e
- **Solution** : Confirmer explicitement l'archivage

### RÃ©cupÃ©ration d'Erreurs
#### Archivage par erreur
1. **AccÃ©der aux Ã©lÃ©ments archivÃ©s**
2. **DÃ©sarchiver l'Ã©lÃ©ment**
3. **RÃ©attribuer les accÃ¨s si nÃ©cessaire** (pour utilisateurs)

---

## ğŸ“± SpÃ©cificitÃ©s Mobile

### Interface d'Archivage
- **Boutons d'action** adaptÃ©s au tactile
- **Confirmations claires** avec messages explicites
- **Feedback visuel** pour les actions en cours

### Navigation dans les Archives
- **Filtres simplifiÃ©s** pour accÃ©der aux Ã©lÃ©ments archivÃ©s
- **Actions de dÃ©sarchivage** facilement accessibles
- **Historique consultable** via les logs

---

## ğŸ’¡ Bonnes Pratiques

### Avant Archivage
1. **Communiquer** avec l'utilisateur/Ã©quipe concernÃ©
2. **VÃ©rifier les dÃ©pendances** (projets en cours, responsabilitÃ©s)
3. **Sauvegarder** les informations importantes si nÃ©cessaire
4. **Planifier** l'archivage en dehors des heures critiques

### Pendant l'Archivage
1. **VÃ©rifier l'identitÃ©** de l'Ã©lÃ©ment Ã  archiver
2. **Lire attentivement** les confirmations
3. **Attendre** la fin du processus avant autre action

### AprÃ¨s Archivage
1. **VÃ©rifier** que l'archivage s'est bien dÃ©roulÃ©
2. **Consulter les logs** pour confirmer
3. **Informer** les parties prenantes si nÃ©cessaire
4. **Mettre Ã  jour** les processus internes

---

## ğŸ” Audit et ConformitÃ©

### TraÃ§abilitÃ© ComplÃ¨te
- **Tous les archivages** sont loggÃ©s avec dÃ©tails
- **Horodatage prÃ©cis** de chaque action
- **Utilisateur responsable** identifiÃ©
- **Raisons d'archivage** documentÃ©es dans les logs

### Rapports d'Audit
- **Export des logs** possible pour audit externe
- **Filtrage par pÃ©riode** pour analyses temporelles
- **Recherche par utilisateur** ou logiciel archivÃ©
- **Vue chronologique** des archivages

### ConformitÃ© RGPD
- **DonnÃ©es prÃ©servÃ©es** mais non accessibles (archivage)
- **PossibilitÃ© de dÃ©sarchivage** pour accÃ¨s aux donnÃ©es
- **Logs de traÃ§abilitÃ©** pour prouver la gestion des donnÃ©es
- **Suppression dÃ©finitive** possible sur demande (non implÃ©mentÃ©e par dÃ©faut)