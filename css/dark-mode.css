/* Mode Sombre */

/* Variables CSS pour les thèmes */
:root {
  --bg-primary: #f9fafb;
  --bg-secondary: #ffffff;
  --bg-accent: #f3f4f6;
  --text-primary: #111827;
  --text-secondary: #6b7280;
  --border-color: #e5e7eb;
  --shadow: rgba(0, 0, 0, 0.1);
}

[data-theme="dark"] {
  --bg-primary: #111827;
  --bg-secondary: #1f2937;
  --bg-accent: #374151;
  --text-primary: #f9fafb;
  --text-secondary: #d1d5db;
  --border-color: #4b5563;
  --shadow: rgba(0, 0, 0, 0.3);
}

/* Application des variables */
body {
  background-color: var(--bg-primary);
  color: var(--text-primary);
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* Cartes et conteneurs */
.bg-white {
  background-color: var(--bg-secondary) !important;
  color: var(--text-primary);
}

.bg-gray-50 {
  background-color: var(--bg-accent) !important;
}

.bg-gray-100 {
  background-color: var(--bg-accent) !important;
}

/* Textes */
.text-gray-900 {
  color: var(--text-primary) !important;
}

.text-gray-700 {
  color: var(--text-primary) !important;
}

.text-gray-600 {
  color: var(--text-secondary) !important;
}

.text-gray-500 {
  color: var(--text-secondary) !important;
}

/* Bordures */
.border-gray-200,
.border-gray-300 {
  border-color: var(--border-color) !important;
}

.divide-gray-200 > :not([hidden]) ~ :not([hidden]) {
  border-color: var(--border-color) !important;
}

/* Ombres */
.shadow-md,
.shadow-lg {
  box-shadow: 0 4px 6px -1px var(--shadow), 0 2px 4px -1px var(--shadow) !important;
}

/* Inputs et selects */
input[type="text"],
input[type="email"],
input[type="password"],
input[type="number"],
input[type="date"],
input[type="datetime-local"],
select,
textarea {
  background-color: var(--bg-secondary) !important;
  color: var(--text-primary) !important;
  border-color: var(--border-color) !important;
}

input[type="text"]:focus,
input[type="email"]:focus,
input[type="password"]:focus,
input[type="number"]:focus,
input[type="date"]:focus,
input[type="datetime-local"]:focus,
select:focus,
textarea:focus {
  background-color: var(--bg-secondary) !important;
  border-color: #3b82f6 !important;
}

/* Correction spécifique pour les selects en mode sombre */
[data-theme="dark"] select {
  background-color: var(--bg-secondary) !important;
  color: var(--text-primary) !important;
  border-color: var(--border-color) !important;
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%23d1d5db' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e") !important;
  background-position: right 0.5rem center !important;
  background-repeat: no-repeat !important;
  background-size: 1.5em 1.5em !important;
  padding-right: 2.5rem !important;
}

[data-theme="dark"] select option {
  background-color: var(--bg-secondary) !important;
  color: var(--text-primary) !important;
}

/* Multi-select et dropdowns complexes */
[data-theme="dark"] .dropdown-content,
[data-theme="dark"] .select-dropdown {
  background-color: var(--bg-secondary) !important;
  border-color: var(--border-color) !important;
  box-shadow: 0 4px 6px -1px var(--shadow) !important;
}

[data-theme="dark"] .dropdown-item:hover,
[data-theme="dark"] .select-option:hover {
  background-color: var(--bg-accent) !important;
}

/* Tables */
table {
  background-color: var(--bg-secondary) !important;
}

th {
  background-color: var(--bg-accent) !important;
  color: var(--text-secondary) !important;
}

tr:hover {
  background-color: var(--bg-accent) !important;
}

/* Toggle Switch Styles */
#dark-mode-toggle:checked + div {
  background-color: #3b82f6;
}

#dark-mode-toggle:checked + div .dot {
  transform: translateX(100%);
  background-color: #ffffff;
}

.dot {
  transition: transform 0.3s ease;
}

/* Modals */
.modal-content {
  background-color: var(--bg-secondary) !important;
  color: var(--text-primary) !important;
}

/* Charts - préserver les couleurs des graphiques */
canvas {
  filter: none !important;
}

/* Boutons - préserver les couleurs des boutons */
.bg-blue-500,
.bg-blue-600 {
  background-color: #3b82f6 !important;
}

.bg-green-500,
.bg-green-600 {
  background-color: #10b981 !important;
}

.bg-red-500,
.bg-red-600 {
  background-color: #ef4444 !important;
}

.bg-yellow-500,
.bg-orange-500 {
  background-color: #f59e0b !important;
}

.bg-purple-500,
.bg-indigo-500 {
  background-color: #8b5cf6 !important;
}

.bg-pink-500 {
  background-color: #ec4899 !important;
}

.bg-teal-500 {
  background-color: #14b8a6 !important;
}

/* Navigation */
.nav-btn.active {
  background-color: #2563eb !important;
}

/* Animations de transition fluides */
* {
  transition-property: background-color, border-color, color;
  transition-duration: 0.3s;
  transition-timing-function: ease;
}

/* Scrollbars en mode sombre */
[data-theme="dark"] ::-webkit-scrollbar {
  background-color: var(--bg-accent);
}

[data-theme="dark"] ::-webkit-scrollbar-thumb {
  background-color: var(--border-color);
  border-radius: 6px;
}

[data-theme="dark"] ::-webkit-scrollbar-thumb:hover {
  background-color: #6b7280;
}

/* Placeholder text */
[data-theme="dark"] ::placeholder {
  color: var(--text-secondary);
  opacity: 0.8;
}

/* Checkbox et radio buttons */
[data-theme="dark"] input[type="checkbox"],
[data-theme="dark"] input[type="radio"] {
  background-color: var(--bg-secondary) !important;
  border-color: var(--border-color) !important;
}

[data-theme="dark"] input[type="checkbox"]:checked,
[data-theme="dark"] input[type="radio"]:checked {
  background-color: #3b82f6 !important;
  border-color: #3b82f6 !important;
}

/* Amélioration des formulaires modaux */
[data-theme="dark"] .modal {
  background-color: var(--bg-secondary) !important;
}

[data-theme="dark"] .modal-backdrop {
  background-color: rgba(0, 0, 0, 0.7) !important;
}